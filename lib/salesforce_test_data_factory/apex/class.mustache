/**
* @description Generated by salesforce_test_data_factory gem https://github.com/vernemi2/salesforce_test_data_factory
*/
@IsTest
public class {{name}} {

    static {{object_name}} defaultObject;
    static List<{{object_name}}> defaultObjects;

    public static {{object_name}} getDefault() {

        if (defaultObject == null) {
            try {
                defaultObject = [SELECT Id FROM {{object_name}} LIMIT 1][0];
            } catch (Exception e) {
                defaultObject = insertObject();
            }
        }
        return defaultObject;
    }

    public static List<{{object_name}}> getDefaults() {

        if (defaultObjects == null) {

            defaultObjects = [SELECT Id FROM {{object_name}}];

            if (defaultObjects.isEmpty()) {
                defaultObjects = insertObjects(201);
            }
        }
        return defaultObjects;
    }

    public static {{object_name}} buildObject(Integer i) {

        {{object_name}} out = new {{object_name}}();

        {{#fields}}
        out.{{{field}}};
        {{/fields}}

        return out;
    }

    public static {{object_name}} buildObject() {

        return buildObject(-1);
    }

    public static List<{{object_name}}> buildObjects(Integer noOfObjects) {

        List<{{object_name}}> out = new List<{{object_name}}>();

        for (Integer i = 0; i < noOfObjects; i++) {
            out.add(buildObject(i));
        }

        return out;
    }

    public static {{object_name}} insertObject() {

        {{object_name}} out = buildObject();
        insert out;
        return out;
    }

    public static List<{{object_name}}> insertObjects(List<{{object_name}}> objects) {

        insert objects;
        return objects;
    }

    public static List<{{object_name}}> insertObjects(Integer noOfObjects) {

        return insertObjects(buildObjects(noOfObjects));
    }

}
